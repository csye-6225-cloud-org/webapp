[Unit]
Description=CSYE 6225 App
ConditionPathExists=/home/pkr-gcp-user/webapp/app/config/db.config.json
After=network.target

[Service]
Type=simple
User=root
WorkingDirectory=/home/pkr-gcp-user/webapp
ExecStartPre=/usr/bin/test -f /home/pkr-gcp-user/webapp/config-success.file
ExecStart=nohup /usr/bin/node /home/pkr-gcp-user/webapp/server.js
Restart=always
RestartSec=5
StandardOutput=syslog
StandardError=syslog
SyslogIdentifier=csye6225

[Install]
WantedBy=multi-user.target
